@model WEBAPP.Models.RegisterViewModel
@{
    /**/

    ViewBag.Title = "";
}

@*<h2>@ViewBag.Title.</h2>*@

@using (Html.BeginForm("Payroll", "Payroll", FormMethod.Post, new { @class = "w-75 container", role = "form" }))
{
    @Html.AntiForgeryToken()

    <hr />

    @Html.ValidationSummary("", new { @class = "text-danger" })
    <style>

        /*.row {
            border-style: groove;
        }*/

    </style>
    <div class="form-group">

        <label class="d-flex justify-content-center"><b>Immigration security services pvt ltd</b></label>
        <label class="d-flex justify-content-center"><b>A-39, Ring Rd, Awas Vikas, Rudrapur, Jagatpura, Uttarakhand 263153</b></label>
        <p></p>
    </div>
    @*<div class="form-group">

    </div>*@

    <div class="form-group">

        <label class="d-flex justify-content-center"><b>Pay Slip: Mar-24</b></label>
    </div>
    <br />
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Employee Name</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="Himanshu bisht" />
            </div>
            <label class="col-sm-3">Total Working Days</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="31" />
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Employee ID</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="099" />
            </div>
            <label class="col-sm-3">LOP Days</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" value="0" />
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Designation</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="supervisor" />
            </div>
            <label class="col-sm-3">Paid Days</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" value="28" />
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Department</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="Security" />
            </div>
            <label class="col-sm-3">Bank Name</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="State Bank of India" />
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Date Of Joining</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="02-02-2021"/>
            </div>
            <label class="col-sm-3">Bank A/c No</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="0003334625271" />
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">UAN</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" readonly value="3367939392789" />
            </div>
            <label class="col-sm-3"></label>
            <div class="col-sm-3">
                @*<input type="text" />*@
            </div>
        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-6 d-flex justify-content-center"><b>Earings</b></label>

            <label class="col-sm-6 d-flex justify-content-center"><b>Deductions</b></label>

        </div>

    </div>

    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Basic Salary</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtbasicsalary" value="8000" />
            </div>
            <label class="col-sm-3">EPF</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtepf" />
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">House Rent Allowances</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txthra" />
            </div>
            <label class="col-sm-3">Health Insurance/ESI</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtesi" />
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Conveyance Allowances</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtca" />
            </div>
            <label class="col-sm-3">Professional Tax</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtpt" />
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Medical Allowances</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtma" />
            </div>
            <label class="col-sm-3"></label>
            <div class="col-sm-3">
                @*<input type="text" />*@
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Special Allowances</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtsa" />
            </div>
            <label class="col-sm-3"></label>
            <div class="col-sm-3">
                @*<input type="text" />*@
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3">Gross Salary(A)</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txtgrosssalary" />
            </div>
            <label class="col-sm-3">Total Deductions(B)</label>
            <div class="col-sm-3">
                <input class="form-control" type="text" id="txttotaldeductions" />
            </div>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3"></label>
            <label class="col-sm-3"><b>Net Pay</b></label>
            <label class="col-sm-3"></label>
            <label class="col-sm-3" id="lblnetpay"><b>0</b></label>
        </div>

    </div>
    <div class="form-group">
        <div class="row">
            <label class="col-sm-3"></label>
            <label class="col-sm-3"><b>Amount in Words</b></label>
            <label class="col-sm-6" id="lblAmountInWords" > eight thousand only</label>

        </div>

    </div>









}

<script>

    document.getElementById("txtbasicsalary").addEventListener("keyup", salarycalculation);
    document.getElementById("txthra").addEventListener("keyup", salarycalculation);
    document.getElementById("txtca").addEventListener("keyup", salarycalculation);
    document.getElementById("txtma").addEventListener("keyup", salarycalculation);
    document.getElementById("txtsa").addEventListener("keyup", salarycalculation);
    document.getElementById("txtepf").addEventListener("keyup", salarycalculation);
    document.getElementById("txtesi").addEventListener("keyup", salarycalculation);
    document.getElementById("txtpt").addEventListener("keyup", salarycalculation);

    function salarycalculation() {
        var basicsalary = checknumber( document.getElementById("txtbasicsalary").value);
        var hra = checknumber(document.getElementById("txthra").value);
        var ConveyanceAllowances = checknumber(document.getElementById("txtca").value);
        var MedicalAllowances = checknumber(document.getElementById("txtma").value);
        var SpecialAllowances = checknumber(document.getElementById("txtsa").value);


        var epf = checknumber(document.getElementById("txtepf").value);
        var esi = checknumber(document.getElementById("txtesi").value);
        var ProfessionalTax = checknumber(document.getElementById("txtpt").value);

        document.getElementById("txtgrosssalary").value = parseFloat(basicsalary) + parseFloat(hra) + parseFloat(ConveyanceAllowances) + parseFloat(MedicalAllowances) + parseFloat(SpecialAllowances);
        document.getElementById("txttotaldeductions").value = parseFloat(epf) + parseFloat(esi) + parseFloat(ProfessionalTax);
        document.getElementById("lblnetpay").innerHTML = checknumber(parseFloat(document.getElementById("txtgrosssalary").value)) - checknumber(document.getElementById("txttotaldeductions").value);
        
        document.getElementById("lblAmountInWords").innerHTML = amountInwords(checknumber(parseFloat(document.getElementById("txtgrosssalary").value)) - checknumber(document.getElementById("txttotaldeductions").value))
    };
     
    function checknumber(value) {

        if (isNaN(value) || value=='') {
            return 0;
        }
        return value;
    }

    function amountInwords(amount) {
        var words = new Array();
        words[0] = '';
        words[1] = 'One';
        words[2] = 'Two';
        words[3] = 'Three';
        words[4] = 'Four';
        words[5] = 'Five';
        words[6] = 'Six';
        words[7] = 'Seven';
        words[8] = 'Eight';
        words[9] = 'Nine';
        words[10] = 'Ten';
        words[11] = 'Eleven';
        words[12] = 'Twelve';
        words[13] = 'Thirteen';
        words[14] = 'Fourteen';
        words[15] = 'Fifteen';
        words[16] = 'Sixteen';
        words[17] = 'Seventeen';
        words[18] = 'Eighteen';
        words[19] = 'Nineteen';
        words[20] = 'Twenty';
        words[30] = 'Thirty';
        words[40] = 'Forty';
        words[50] = 'Fifty';
        words[60] = 'Sixty';
        words[70] = 'Seventy';
        words[80] = 'Eighty';
        words[90] = 'Ninety';
        amount = amount.toString();
        var atemp = amount.split(".");
        var number = atemp[0].split(",").join("");
        var n_length = number.length;
        var words_string = "";
        if (n_length <= 9) {
            var n_array = new Array(0, 0, 0, 0, 0, 0, 0, 0, 0);
            var received_n_array = new Array();
            for (var i = 0; i < n_length; i++) {
                received_n_array[i] = number.substr(i, 1);
            }
            for (var i = 9 - n_length, j = 0; i < 9; i++, j++) {
                n_array[i] = received_n_array[j];
            }
            for (var i = 0, j = 1; i < 9; i++, j++) {
                if (i == 0 || i == 2 || i == 4 || i == 7) {
                    if (n_array[i] == 1) {
                        n_array[j] = 10 + parseInt(n_array[j]);
                        n_array[i] = 0;
                    }
                }
            }
            value = "";
            for (var i = 0; i < 9; i++) {
                if (i == 0 || i == 2 || i == 4 || i == 7) {
                    value = n_array[i] * 10;
                } else {
                    value = n_array[i];
                }
                if (value != 0) {
                    words_string += words[value] + " ";
                }
                if ((i == 1 && value != 0) || (i == 0 && value != 0 && n_array[i + 1] == 0)) {
                    words_string += "Crores ";
                }
                if ((i == 3 && value != 0) || (i == 2 && value != 0 && n_array[i + 1] == 0)) {
                    words_string += "Lakhs ";
                }
                if ((i == 5 && value != 0) || (i == 4 && value != 0 && n_array[i + 1] == 0)) {
                    words_string += "Thousand ";
                }
                if (i == 6 && value != 0 && (n_array[i + 1] != 0 && n_array[i + 2] != 0)) {
                    words_string += "Hundred and ";
                } else if (i == 6 && value != 0) {
                    words_string += "Hundred ";
                }
            }
            words_string = words_string.split("  ").join(" ");
        }
        return words_string;
    }

 

</script>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
